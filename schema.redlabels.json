{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Radio Equipment Directive (RED) label for BSH electronics (firmware + hardware)",
  "$id": "https://scr.bsh-sdd.com/projects/HC/repos/architecture/raw/schemas/firmware-module/schema.redlabels.json",
  "type": "object",
  "properties": {
    "meta": {
      "type": "object",
      "properties": {
        "timestamp": {
          "description": "UNIX timestamp [time_t]",
          "type": "integer",
          "minimum": 1451606400,
          "maximum": 9223372036854776000,
          "$comment": "Minimum set to 2016-1-1, 12:00am UTC"
        }
      },
      "required": [
        "timestamp"
      ]
    },
    "redLabel": {
      "type": "object",
      "properties": {
        "redString": {
          "description": "RED-label in string notation, e.g., RED-00000000000000060811-888-90000000000000060812-999, integer values are zero padded",
          "type": "string",
          "pattern": "^RED-[0-9]{20}-[0-9]{5}-[0-9]{20}-[0-9]{5}$"
        },
        "fwModule": {
          "description": "Firmware part of the RED-Label",
          "type": "object",
          "properties": {
            "id": {
              "description": "Unique fw module ID [uint64]",
              "type": "integer",
              "minimum": 0,
              "maximum": 18446744073709552000
            },
            "version": {
              "type": "object",
              "description": "The version of the firmware, see http://wiki.bshg.com/x/sp4IEg",
              "properties": {
                "major": {
                  "type": "integer",
                  "description": "The Major version number [uint16]",
                  "minimum": 0,
                  "maximum": 65535
                },
                "minor": {
                  "type": "integer",
                  "description": "The Minor version number [uint16]",
                  "minimum": 0,
                  "maximum": 65535
                },
                "revision": {
                  "type": "integer",
                  "description": "The revision number [uint16]",
                  "minimum": 0,
                  "maximum": 65535
                },
                "build": {
                  "type": "integer",
                  "description": "The build number [uint32]",
                  "minimum": 0,
                  "maximum": 4294967295
                }
              },
              "required": [
                "major",
                "minor",
                "build",
                "revision"
              ]
            }
          },
          "required": [
            "id",
            "version"
          ]
        },
        "hwModule": {
          "description": "Hardware part of the RED-Label",
          "type": "object",
          "properties": {
            "id": {
              "description": "Unique hw module ID [uint64]",
              "type": "integer",
              "minimum": 0,
              "maximum": 18446744073709552000
            },
            "version": {
              "type": "object",
              "description": "The version of the hardware, see http://wiki.bshg.com/x/sp4IEg",
              "properties": {
                "major": {
                  "type": "integer",
                  "description": "The Major version number [uint16]",
                  "minimum": 0,
                  "maximum": 65535
                },
                "minor": {
                  "type": "integer",
                  "description": "The Minor version number [uint16]",
                  "minimum": 0,
                  "maximum": 65535
                },
                "revision": {
                  "type": "integer",
                  "description": "The revision number [uint16]",
                  "minimum": 0,
                  "maximum": 65535
                },
                "build": {
                  "type": "integer",
                  "description": "The build number [uint32]",
                  "minimum": 0,
                  "maximum": 4294967295
                }
              },
              "required": [
                "major",
                "minor",
                "build",
                "revision"
              ]
            }
          },
          "required": [
            "id",
            "version"
          ]
        }
      },
      "required": [
        "redString",
        "fwModule",
        "hwModule"
      ]
    }
  },
  "required": [
    "meta",
    "redLabel"
  ]
}